/* Microsoft Foundry Agent Toolkit - Textual CSS Styles */
/* This stylesheet uses Textual theme variables for full theme support.
   Press 't' to cycle through available themes. */

/* Global styles */
Screen {
    background: $background;
    color: $text;
}

* {
    scrollbar-color: $primary;
    scrollbar-color-hover: $primary-lighten-1;
    scrollbar-color-active: $primary-lighten-1;
    scrollbar-background: $background;
    scrollbar-background-hover: $background;
    scrollbar-background-active: $background;
    scrollbar-corner-color: $background;
}

/* Title styles */
#title, .screen-title {
    width: 100%;
    text-align: center;
    text-style: bold;
    color: $primary;
    border: solid $primary;
    background: $background;
    padding: 0 1;
    margin-bottom: 1;
}

.description {
    color: $text-muted;
    padding: 0 1;
    margin-bottom: 0;
}

/* Section titles */
.section-title {
    text-style: bold;
    color: $secondary;
    margin-top: 0;
    margin-bottom: 0;
    padding-left: 1;
}

/* Home screen */
#home-container {
    padding: 0 1;
}

#logo {
    text-align: center;
    color: $secondary;
    text-style: bold;
    padding: 1 2;
    margin-bottom: 1;
    border: solid $secondary;
    background: $background;
}

#welcome {
    text-align: center;
    color: $secondary;
    padding: 0 0 1 0;
    text-style: bold;
}

#nav-buttons {
    margin: 1 0;
    align: center middle;
    height: 0.1fr;
}

#nav-buttons Button {
    margin: 0 1;
}

#status-panel {
    margin: 1 0;
    padding: 1;
    border: solid $primary;
    background: $background;
    height: 0.3fr;
}

#status-panel .info-text {
    padding: 0 1;
}

#nav-buttons-extra {
    margin: 0;
    align: center middle;
}

#nav-buttons-extra Button {
    margin: 0 1;
}

/* Model selection screen */
#model-container {
    padding: 0 1;
    height: 100%;
}

#model-table {
    height: 1fr;
    min-height: 8;
    max-height: 70%;
    margin: 0;
    border: solid $primary;
    background: $background;
}

.status-bar {
    dock: bottom;
    height: 1;
    padding: 0 1;
    background: $background;
    color: $text;
}

/* Profile screen */
#profile-container {
    padding: 0 1;
    height: 100%;
}

#main-content {
    height: 1fr;
    min-height: 15;
}

#profile-list {
    width: 40%;
    padding-right: 1;
    height: 100%;
}

#profile-table {
    height: 1fr;
    min-height: 8;
    border: solid $primary;
    background: $background;
}

#profile-details-panel {
    width: 60%;
    padding-left: 1;
    border-left: solid $panel;
    height: 100%;
    overflow-y: auto;
}

#profile-details {
    height: auto;
    padding: 1;
    border: solid $secondary;
    background: $background;
}

/* Agent wizard screen */
#wizard-container {
    padding: 0 1;
    height: 1fr;
}

#wizard-scroll {
    height: 1fr;
}

#wizard-footer,
#workflow-footer {
    height: auto;
    align: left middle;
    padding: 0 0 1 0;
}

#existing-agents-table {
    height: auto;
    min-height: 4;
    max-height: 12;
    margin: 0;
    border: solid $success;
    background: $background;
}

#existing-agents-summary {
    color: $text-muted;
    padding: 0 1;
    border-left: solid $success;
    background: $background;
}

#delete-buttons {
    height: auto;
    margin: 0;
    align: left middle;
}

#delete-buttons Button {
    margin-right: 1;
}

#delete-status {
    color: $text-muted;
    padding: 0 1;
    margin-bottom: 0;
    border-left: solid $warning;
    background: $background;
}

.section-header-with-button {
    height: auto;
    align: left middle;
    padding: 0;
}

.section-header-with-button Static {
    width: 1fr;
}

.section-header-with-button Button {
    width: auto;
    margin-left: 1;
}

.small-button {
    min-width: 15;
    height: 1;
}

#config-inputs {
    margin: 0;
    padding: 0 1;
    border: solid $secondary;
    background: $background;
}

.config-summary-panel {
    margin: 0;
    padding: 0 1;
    border: solid $primary;
    background: $background;
}

#config-inputs Vertical {
    width: 1fr;
    padding: 0 1;
}

#config-inputs Input {
    width: 100%;
}

#workflow-container {
    padding: 0 1;
    height: 1fr;
}

#workflow-scroll {
    height: 1fr;
}

#evaluation-container {
    padding: 0 1;
    height: 1fr;
}

#evaluation-scroll {
    height: 1fr;
}

#evaluation-footer {
    height: auto;
    align: left middle;
    padding: 0 0 1 0;
}

#existing-workflows-panel,
#create-workflows-panel {
    margin: 0 0 1 0;
    padding: 1;
    border: solid $secondary;
    background: $background;
    height: auto;
}

#existing-agents-panel,
#create-agents-panel {
    margin: 0;
    padding: 0 1;
    border: solid $secondary;
    background: $background;
    height: auto;
}

#existing-evaluations-panel,
#create-evaluations-panel {
    margin: 0 0 1 0;
    padding: 1;
    border: solid $secondary;
    background: $background;
    height: auto;
}

#create-workflows-panel {
    padding-bottom: 2;
}

#existing-workflows-table,
#workflow-templates-table,
#workflows-table {
    height: auto;
    min-height: 6;
    max-height: 14;
    margin: 0 0 1 0;
    border: solid $primary;
    background: $background;
}

#existing-evaluations-table,
#evaluation-templates-table,
#evaluation-agents-table {
    height: auto;
    min-height: 4;
    max-height: 12;
    margin: 0 0 1 0;
    border: solid $primary;
    background: $background;
}

.info-text {
    color: $text-muted;
    padding: 0 1;
}

#agents-table {
    height: auto;
    min-height: 4;
    max-height: 15;
    border: solid $primary;
    background: $background;
}

/* Simulation screen */
SimulationScreen {
    layout: vertical;
    padding: 0 1;
}

SimulationScreen .config-section {
    height: auto;
    padding: 1;
    margin-bottom: 1;
    border: solid $secondary;
    background: $background;
}

SimulationScreen .config-section-title {
    text-style: bold;
    color: $primary;
    margin-bottom: 1;
}

SimulationScreen .config-row {
    height: auto;
    margin-bottom: 1;
}

SimulationScreen .config-row:last-of-type {
    margin-bottom: 0;
}

SimulationScreen #sim-setup {
    height: auto;
    margin-bottom: 0;
    padding: 0 1;
}

SimulationScreen #sim-setup .config-section-title {
    margin-bottom: 0;
}

SimulationScreen #sim-setup .config-row {
    margin-bottom: 0;
}

SimulationScreen #sim-profile {
    width: 1fr;
}

SimulationScreen #sim-agents-table {
    height: 6;
    min-height: 4;
    border: solid $secondary;
    background: $background;
    margin-bottom: 0;
}

SimulationScreen .input-label {
    width: 14;
    padding-right: 1;
}

SimulationScreen .input-field {
    width: 12;
}

SimulationScreen .button-row {
    height: auto;
    padding: 1 0;
    align: center middle;
}

SimulationScreen .button-row Button {
    margin: 0 1;
}

SimulationScreen #onetime-config {
    height: auto;
    margin-bottom: 1;
}

SimulationScreen #onetime-type-section {
    height: auto;
    padding: 1;
    margin-bottom: 1;
    border: solid $accent;
    background: $background;
}

SimulationScreen #sim-type {
    width: 100%;
    margin-top: 1;
}

SimulationScreen #onetime-progress-section {
    height: auto;
    padding: 1;
    margin-bottom: 1;
    border: solid $primary;
    background: $background;
}

SimulationScreen #onetime-log-section {
    height: 1fr;
    min-height: 8;
}

SimulationScreen #onetime-log {
    height: 1fr;
    border: solid $primary;
    background: $background;
}

SimulationScreen #daemon-config {
    height: auto;
    margin-bottom: 1;
}

SimulationScreen #daemon-status-section {
    height: auto;
    padding: 1;
    margin-bottom: 1;
    border: solid $accent;
    background: $background;
}

SimulationScreen #daemon-status {
    text-style: bold;
    text-align: center;
}

SimulationScreen .status-running {
    color: $success;
}

SimulationScreen .status-stopped {
    color: $error;
}

SimulationScreen #daemon-metrics-section {
    height: auto;
    padding: 1;
    margin-bottom: 1;
    border: solid $primary;
    background: $background;
}

SimulationScreen #metrics-grid {
    grid-size: 3;
    grid-columns: 1fr 1fr 1fr;
    grid-gutter: 1;
    height: auto;
}

SimulationScreen .metric-box {
    padding: 1;
    border: solid $secondary;
    background: $background;
    height: auto;
    align: center middle;
    text-align: center;
}

SimulationScreen .metric-header {
    color: $text-muted;
    text-style: bold;
}

SimulationScreen .metric-value {
    color: $accent;
    text-style: bold;
}

SimulationScreen #daemon-log-section {
    height: 1fr;
    min-height: 8;
}

SimulationScreen #daemon-log {
    height: 1fr;
    border: solid $primary;
    background: $background;
}

SimulationScreen #execution-panel {
    margin-top: 1;
    height: 1fr;
}

SimulationScreen #progress-panel {
    height: auto;
    padding: 1;
    border: solid $primary;
    background: $background;
    margin-bottom: 1;
}

SimulationScreen #log-panel {
    height: 1fr;
    border: solid $primary;
    background: $background;
}

SimulationScreen #sim-log {
    height: 1fr;
    border: none;
}

SimulationScreen .results-section {
    margin-bottom: 1;
    padding: 1;
    border: solid $secondary;
    background: $background;
}

SimulationScreen .results-header {
    text-align: center;
    background: $background;
    color: $secondary;
    text-style: bold;
    padding: 0 1;
    margin-bottom: 1;
    border: solid $secondary;
}

SimulationScreen .summary-text {
    padding: 1;
    margin-bottom: 1;
    border-bottom: solid $panel;
}

SimulationScreen .table-container {
    height: auto;
}

SimulationScreen .table-box {
    width: 1fr;
    margin: 0 1;
}

SimulationScreen .table-title {
    text-style: bold;
    color: $accent;
    margin-bottom: 1;
    text-align: center;
}

/* General improvements */
.hidden {
    display: none;
}

TabPane {
    padding: 1;
}

TabbedContent {
    margin-top: 1;
}

.screen-title {
    background: $background;
    color: $primary;
    padding: 0 1;
    text-style: bold;
    border: solid $primary;
}

/* Data tables */
DataTable {
    height: 1fr;
    min-height: 6;
    max-height: 20;
    scrollbar-gutter: stable;
}

DataTable > .datatable--header {
    background: $background;
    color: $secondary;
    text-style: bold;
}

DataTable > .datatable--cursor {
    background: $primary;
    color: $background;
}

DataTable > .datatable--even-row {
    background: $background;
}

DataTable > .datatable--odd-row {
    background: $background;
}

/* Progress bars */
ProgressBar {
    padding: 0;
}

/* Radio buttons */
RadioSet {
    margin: 0;
}

/* Inputs */
Input {
    margin: 0;
}

/* Notifications */
Toast {
    width: auto;
}

/* Agent Management Screen */
#manage-agents-container {
    padding: 0 1;
}

/* Daemon Screen */
#daemon-container {
    padding: 0 1;
}

#daemon-metrics {
    margin: 1 0;
    padding: 1;
    border: solid $primary;
    background: $background;
}

.metric-row {
    height: auto;
}

.metric-label {
    width: 16;
    text-style: bold;
}

.metric-value {
    width: 12;
}

.status-running {
    color: $success;
    text-style: bold;
}

.status-stopped {
    color: $error;
}

/* Header styling for theme compatibility */
Header {
    background: $background;
    color: $primary;
}

/* Footer styling */
Footer {
    background: $background;
}

/* Button theming */
Button {
    background: transparent;
    color: $primary;
    border: solid $primary;
    padding: 0 1;
    text-style: bold;
}

Button:hover {
    background: transparent;
    color: $primary-lighten-1;
    border: solid $primary-lighten-1;
}

Button:focus {
    background: transparent;
    color: $secondary;
    border: solid $secondary;
}

Button.-primary {
    background: transparent;
    color: $primary;
    border: solid $primary;
}

Button.-primary:hover {
    background: transparent;
    color: $primary-lighten-1;
    border: solid $primary-lighten-1;
}

Button.-success {
    background: transparent;
    color: $success;
    border: solid $success;
}

Button.-success:hover {
    background: transparent;
    color: $success-lighten-1;
    border: solid $success-lighten-1;
}

Button.-warning {
    background: transparent;
    color: $warning;
    border: solid $warning;
}

Button.-warning:hover {
    background: transparent;
    color: $warning-lighten-1;
    border: solid $warning-lighten-1;
}

Button.-error {
    background: transparent;
    color: $error;
    border: solid $error;
}

Button.-error:hover {
    background: transparent;
    color: $error-lighten-1;
    border: solid $error-lighten-1;
}

/* Input fields */
Input {
    margin: 0;
    background: $background;
    border: solid $primary;
}

Input:focus {
    border: solid $accent;
}

/* Select widgets */
Select {
    background: $background;
    border: solid $primary;
}

Select:focus {
    border: solid $accent;
}

/* General text colors */
.text-success {
    color: $success;
}

.text-error {
    color: $error;
}

.text-warning {
    color: $warning;
}

.text-muted {
    color: $text-muted;
}

.text-primary {
    color: $text-primary;
}

.text-secondary {
    color: $text-secondary;
}

.text-accent {
    color: $text-accent;
}
